# Azure-specific Secrets for Production
# Use Azure Key Vault integration for production secrets

# External Secrets Operator configuration (if using)
# This allows secrets to be synced from Azure Key Vault
apiVersion: v1
kind: Secret
metadata:
  name: eshopflix-azure-secrets
  namespace: eshopflix
  labels:
    app.kubernetes.io/part-of: eshopflix-microservices
type: Opaque
stringData:
  # Azure SQL Database Connection Strings
  # Replace these with your actual Azure SQL connection strings
  # Format: Server=tcp:<server>.database.windows.net,1433;Database=<db>;User ID=<user>;Password=<pass>;Encrypt=True;TrustServerCertificate=False;
  
  ConnectionStrings__CatalogDb: "Server=tcp:eshopflix-sql.database.windows.net,1433;Database=CatalogDb;User ID=sqladmin;Password=YOUR_PASSWORD;Encrypt=True;TrustServerCertificate=False;"
  ConnectionStrings__AuthDb: "Server=tcp:eshopflix-sql.database.windows.net,1433;Database=AuthDb;User ID=sqladmin;Password=YOUR_PASSWORD;Encrypt=True;TrustServerCertificate=False;"
  ConnectionStrings__CartDb: "Server=tcp:eshopflix-sql.database.windows.net,1433;Database=CartDb;User ID=sqladmin;Password=YOUR_PASSWORD;Encrypt=True;TrustServerCertificate=False;"
  ConnectionStrings__PaymentDb: "Server=tcp:eshopflix-sql.database.windows.net,1433;Database=PaymentDb;User ID=sqladmin;Password=YOUR_PASSWORD;Encrypt=True;TrustServerCertificate=False;"
  ConnectionStrings__OrderDb: "Server=tcp:eshopflix-sql.database.windows.net,1433;Database=OrderDb;User ID=sqladmin;Password=YOUR_PASSWORD;Encrypt=True;TrustServerCertificate=False;"
  ConnectionStrings__StockDb: "Server=tcp:eshopflix-sql.database.windows.net,1433;Database=StockDb;User ID=sqladmin;Password=YOUR_PASSWORD;Encrypt=True;TrustServerCertificate=False;"

---
# Application Insights Configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: azure-monitoring-config
  namespace: eshopflix
  labels:
    app.kubernetes.io/part-of: eshopflix-microservices
data:
  # Replace with your Application Insights instrumentation key
  ApplicationInsights__InstrumentationKey: "YOUR_INSTRUMENTATION_KEY"
  ApplicationInsights__ConnectionString: "InstrumentationKey=YOUR_KEY;IngestionEndpoint=https://eastus-0.in.applicationinsights.azure.com/"
  APPLICATIONINSIGHTS_CONNECTION_STRING: "InstrumentationKey=YOUR_KEY;IngestionEndpoint=https://eastus-0.in.applicationinsights.azure.com/"
